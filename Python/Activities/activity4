player1 = input("Enter first player name: ")
player2 = input("Enter second player name: ")

while True:

    choice1 = input(f"{player1}, choose rock, paper or scissors: ").strip().lower()
    choice2 = input(f"{player2}, choose rock, paper or scissors: ").strip().lower()

    # Outcome logic
    if choice1 not in ["rock", "paper", "scissors"] or choice2 not in ["rock", "paper", "scissors"]:
        print("Invalid input! Please enter rock, paper, or scissors only.")
    elif choice1 == choice2:
        print("It's a tie!")
    elif (choice1 == "rock" and choice2 == "scissors") or \
         (choice1 == "scissors" and choice2 == "paper") or \
         (choice1 == "paper" and choice2 == "rock"):
        print(f"{player1} wins! {choice1.capitalize()} beats {choice2}.")
    else:
        print(f"{player2} wins! {choice2.capitalize()} beats {choice1}.")

    # Ask if they want to play again
    while True:
        answer = input("Do you want to play again? (Yes/No): ").strip().lower()
        if answer == "yes":
            print("Let's start again!\n")
            break  
        elif answer == "no":
            print("Thank you for playing!")
            exit()  
        else:
            print("Invalid input. Please enter 'Yes' or 'No'.")
